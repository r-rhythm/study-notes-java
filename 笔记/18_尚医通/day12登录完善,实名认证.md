# 微信扫码登录完善
## 扫码后绑定手机号
1. 在myheader的mounted中添加微信登录后是否需要绑定手机号的回调函数 loginCallback 和 能使外部调用它的方法 window\["loginCallback"]
2. 用户登录实现类中判断手机验证码登录还是绑定手机号(*通过openid*),如果是绑定手机号,更新数据库内的用户信息
**注意** #bug  #challenge
微信登录后绑定数据库中已有的手机号,会在数据库中生成两条相同的手机号数据
可以在绑定手机号的时候添加一个判断逻辑,查询一下用户绑定的手机号是否已经存在,  如果已经存在了相同的手机号,则按照一定的业务逻辑进行处理.>>> 将微信数据合并到手机数据中,删除微信的记录

# 点击科室判断登录状态
1. 判断 cookie 内是否存在数据
2. 如果没有,添加一个监听器的代码....copy 吧

# 用户实名认证
## OSS存储服务
1. 开通阿里云OSS存储服务
2. 在OSS创建Bucket,获得accesskeyId&secret
创建oss服务模块
1. 配置文件中配置阿里云oss地域节点和keyId&secret&buket名称
2. 在实现类中创建OSSClientBuilder实例,调用它的putObject()方法就能实现文件的上传
	1. 第一个参数: buketName
	2. 第二个参数: 上传文件到oss的路径+名称
	3. 第三个参数: 上传文件输入流

优化
1. 让每个文件名称都唯一,否则会覆盖
2. 根据当前日期对上传的文件进行分组
## 实名认证实现
分析
- 从cookie中获得token
- 从token中获得用户id,通过用户id更新用户信息上传实名认证信息
*补充了[[Cookie#Cookie 如何跨域传递]]*
*补充了[[http协议#OPTIONS 预请求问题]]*

前端
- 创建user/index.vue
- 在request工具中的请求拦截器中实现将token放到请求头操作,**注意引入cookie依赖**

# 添加就诊人
1. 在user模块下生成patient代码
2. 实现patient的增删改查
3. 前端
