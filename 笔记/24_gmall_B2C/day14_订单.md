# 流程分析

# 用户地址列表查询

# 获取选中状态的购物车列表

# 搭建 service-order 模块
使用远程 feign 调用上面创建的接口整合数据
补充了 [[OpenFeign#Feign 调用头信息丢失问题]]

# 提交订单

# 下单过程中的问题和补充
1. 在购物车中的物品已经购买完毕后, 应该删除购物车中的物品
2. 用户回退上一页后重新提交订单, 会出现订单重复的问题
3. 在生成订单时校验库存与价格

# 删除购物车
1. 删除哪些商品?
删除选中状态的物品
3. 什么时候删除?
在订单提交成功之后
5. 如何删除?
在 redis 中删除

# 浏览器回退后重复提交订单问题
使用一个类似于签名 key 的思想 , 设置一个特殊的标识==流水号==, 在浏览器中与 redis 中分别存储一份.
只有浏览器中的流水号与 redis 中存储的一致才生成订单, 在第一次生成订单之后, 将 redis 中的流水号改掉即可解决同一订单重复提交的问题


# 库存管理系统