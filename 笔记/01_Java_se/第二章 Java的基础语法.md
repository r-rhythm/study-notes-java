# 第二章 Java的基础语法



## 2.1 注释



```java
单行注释：
    // 注释内容
多行注释：
    /*
    	多行注释内容
    	多行注释内容
    */
文档注释：
    /**
    	有特定的格式，由javadoc.exe来读取
    */
```

## 2.2 关键字



Java8一共50个单词，全部是小写的。





```java
class,public,static,void,byte,short,int,long,float,double,char,boolean
```



以下这些不是关键字：



```java
main,String,System,out,println,java
```



两个保留字（在关键字表中）：



```java
const,goto
```



3个特殊值（不在关键字表中）：



```java
true,false,null
```



## 2.3 标识符



凡是在代码中自己命名的部分，例如类名、变量名、方法名等都是标识符。



```java
命名规则：
（1）只能使用26个英文字母的大小写，数字0-9，下划线_，美元符号$
（2）数字不能开头
（3）不能包含空格
（4）严格区分大小写
（5）不能直接使用关键字、保留字、特殊值作为标识符，
但是标识符中可以包含关键字的单词，
例如：不能直接使用class作为标识符，但是可以有myclass，或myClass。

命名规范：
（1）见名知意
（2）类名等：每一个单词首字母大写，形式：XxxYyyZzz
（3）变量名、方法名等：从第二个单词开始首字母大写，形式：xxxYyyZzz
（4）常量名(final声明的常量）：每一个字母都大写，多个单词使用下划线连接，形式：XXX_YYY_ZZZ
（5）包名：每一个字母都小写，多个单词使用.连接，形式：xxx.yyy.zzz
```



## 2.4 Java的数据类型



```java
（1）基本数据类型
byte,short,int,long,float,double,char,boolean
（2）引用数据类型
类、数组、接口、枚举、注解
```



## 2.5 字面常量



```java
整数类型中，只有long类型比较特殊，需要在数字后加L或l（小写L）。
小数类型，float类型需要在数字后面加F或f，double类型可以在数字后面加D或d，也可以不加。
boolean类型只有两个值：true,false
char类型必须用单引号
字符串类型必须使用双引号
```



```java
class Exam3{
	public static void main(String[] args){
		System.out.println("尚硅谷");
		System.out.println('好');
		System.out.println(86.9);
		System.out.println(31415926789L);
	}
}
```



## 2.6 变量



变量本质上是代表内存的一块存储区域，这块区域用来存储数据。



```java
变量的三要素：
（1）数据类型
数据类型决定了这个变量可以存储什么值，范围是多少，在内存中占多少空间。

（2）变量名
是一个标识符，在代码中引用变量的符号。

（3）变量值
数据本身。

使用要求：
（1）必须先声明后使用
（2）在使用之前，变量必须初始化。变量初始化之后，还可以反复赋值，即变量的值可以修改的。
    第一次赋值，可以和声明一起，例如：
    	int age = 18;
	之后再给变量赋值，就不用加数据类型了，例如：
        age = 19;
		age = 25;
（3）变量有作用域
（4）同一个作用域中不能重复声明
（5）变量可以反复被赋值，但是值的类型必须<=变量声明的类型，
或者说变量值的类型要么和变量声明的类型一致或兼容。
    byte<short<int<long<float<double  
         char<
    boolean不参与比较，这里的<是指数据范围的小于。
```



变量的声明：



```java
数据类型  变量名;
```



变量的赋值：



```java
变量名 = 值;

//这个值可以是一个常量值，也可以是另一个变量，还可以是一个表达式的结果。
```



变量的声明和初始化（第一次赋值）经常合起来：



```java
数据类型 变量名 = 初始化值;
```



## 2.7 最终变量



最终变量是指用final修饰的变量。



```java
final 数据类型  变量 = 值;
```



因为最终变量只能赋一次值，即只能使用初始值，之后不能修改它的值，所以最终变量通常被称为常量。



字面常量和最终变量的区别，一个是直接值，例如：3.14，一个是由标识符代表的一个固定值，例如：PI代表3.14。如果程序中出现多次使用这个常量值，一旦需要修改的话，那么直接值的方式需要每一个地方都修改，而最终变量的方式可以只修改一个地方即可。相同点都是值在程序运行期间不能修改（即不能反复赋值）。



## 2.8 计算机数据存储方式



1、常见进制类型



十进制：数字0-9，逢十进一，在程序中正常表示



二进制：数字0-1，逢二进一，在程序中需要在数字前面加0B或0b



八进制：数字0-7，逢八进一，在程序中需要在数字前面加0（数字0，不是字母o）



十六进制：数字0-9，a-f（A-F），逢十六进一，在程序中需要在数字前面加0X或0x



其中八进制和十六进制与二进制关系比较近，一位八进制数字等于3位二进制，一位十六进制数字等于4位二进制。



建议大家使用计算器中的程序员模式来换算，人工计算太麻烦。



2、原码、反码、补码



- 正数：原码、反码、补码没区别

- 负数：原码、反码、补码不同的。 

- - 负数的原码：最高位是1，其余位用十进制直接换算成二进制即可。这里要注意数据类型的宽度（即几个字节共几位二进制）。

- - 负数的反码：在原码的基础上，符号位不变，其余位取反。

- - 负数的补码：在反码的基础上+1。



3、符号位



二进制表示方式下，最左边的1位。



- 1表示负数

- 0表示正数



4、Java整数类型的宽度和范围



- byte：1个字节，8位二进制，数据范围是-128~127。

- short：2个字节，16位二进制，数据范围是-32768~32767。

- int：4个字节，32位二进制

- long：8个字节，64位二进制



5、Java小数类型的宽度和精度范围



- float：4个字节，32位二进制，其中符号位1位，指数位8位，尾数位23位，可以表示的精度范围是小数点后7-8位（十进制科学计数法的小数点后7-8位）

- double：8个字节，64位二进制，其中符号位1位，指数位11位，尾数位52位，可以表示的精度范围是小数点后15-16位（十进制科学计数法的小数点后15-16位）



无论如何float和double都是不精确，结果只是近似值。



float类型虽然是4个字节，但是因为底层存储二进制科学计数法的指数，所以表示的数据范围比8个字节的long类型要大。



6、Java中char类型的宽度和表示方式



char：2个字节，不考虑符号位，编码值的范围0-65535。Java在JVM内存中表示字符使用的是Unicode字符集。其中部分字符的编码如下：



- 空字符：0

- Tab：9

- Space空格：32

- '0'：48

- '1'：49

- 'A'：65

- 'B'：66

- 'a'：97

- 'b'：98



大写字母与对应的小写字母之间编码值相差32。



char类型的表示有如下几种：



```java
char 变量 = '一个字符';
char 变量 = 十进制Unicode编码值;
char 变量 = '\u十六进制Unicode编码值';
转义字符：
    制表位：\t
    回车：\r
    换行：\n
    退格删除键：\b
    单引号：\'
    双引号：\"
    斜杆：\\
```



7、Java中boolean类型的宽度和表示方式



boolean类型占1位，0表示false，1表示true。在程序中只能赋值为true和false。



## 2.9 基本数据类型的转换



1、基本数据类型之间的转换：



- 自动类型转换 

- - 当把存储范围小的类型的值（常量值、变量值、表达式结果值）赋值给存储范围大的数据类型的变量时，会自动类型提升。即变量=值;这样的表达式，值的类型可以<变量的类型。 

- - - byte->short->int->long->float->double

- - - ​       char->

- - boolean类型不参与

- - 当多种数据类型的数据混合运算时，结果会提升为它们中最大的类型

- - 当byte和byte、short和short、char和char、或者它们三个之间的运算会提升为int类型（比较特殊）

- 强制类型转换 

- - 当把存储范围大的类型的值（常量值、变量值、表达式结果值）赋值给存储范围小的数据类型的变量时，需求强制类型转换。即变量=值;这样的表达式，当值的类型>变量的类型时，需要强制类型转换，否则编译报错。 

- - - 变量 = (强制后的数据类型) 值; 如果这个值是一个表达式，表达式要先算的话，还需要加()。

- - - 这种情况的强制类型转换有风险，可能会损失精度，可能会出现数据的溢出截断，导致结果不对。

- - - double->float->long->int->short->byte

- - - ​                       ->char

- - boolean类型不参与

- - 当需要特意的提升某个值（常量值、变量值、表达式结果值）的数据类型时，也可以使用强制类型转换的语法，但是这种情况，是没有风险的。 

- - - 例如：System.out.println((int)'a');  //把字符char类型提升为int类型，显示的是编码值，不是a

- - - 例如：int x = 1,y=2;  System.out.println((double)x/y); //把x的类型从int提升为double，然后再计算除法。



2、基本数据类型与字符串之间的转换



- 当任意基本数据类型的值（常量值、变量值、表达式结果值） 与 字符串进行“+”拼接时，结果都会立刻转为字符串类型。

- 如果要把字符串再转换基本数据类型的值，需要用到后面要学习的Integer，Double等包装类的辅助。



## 2.10 运算符



### 2.10.1 赋值运算符（上）



```java
最基本的赋值运算符：=
```



- 表示把=右边的值（常量值、另一个变量的值、表达式的计算结果值）赋值给左边的变量

- =左边必须也只能是一个变量

- =右边值的类型必须<=左边变量的类型，否则编译会报错，除非进行强制类型转换

- 赋值的优先级最低



```java
byte b = 1;//把 1 赋值给变量b
int a = b;//把变量b的值复制一份赋值给变量a
int c = a;//把变量c的值赋值一份复制给c
```



### 2.10.2  算术运算符



- 加：+ 

- - 当+作为二元运算符使用时，如果有字符串（字符串常量，即直接双引号的内容，也可以是字符串变量，String类型的变量）参与，即+的左边或右边是一个字符串，那么这个+就是拼接，结果是字符串

- - 当+作为二元运算符使用时，如果+左右两边都是整数、小数、char等数值类型，那么是求和计算。

- - 当+作为一元运算符使用时，表示正号，而且+要在变量或数字的前面。

- 减：-： 

- - 当-作为二元运算符使用功能时，只支持整数（byte,short,int,long,char，其中char计算用编码值)、小数的数据相减

- - 当-作为一元运算符使用时，表示负号，而且-要在变量或数字的前面。

- 乘：* 

- - 只支持整数（byte,short,int,long,char，其中char计算用编码值)、小数的数据相乘

- 除：/ 

- - 只支持整数（byte,short,int,long,char，其中char计算用编码值)、小数的数据相除

- - 如果两个整数相除，结果都是整数

- - 如果两个整数相除，除数不能为0，否则运行报异常ArithmeticException

- - 如果两个小数相除，除数为0的话，结果是Infinity

- 模（余）：% 

- - 结果的正负号，只看被模数（被除数）

- - 如果两个整数相模，模数不能为0，否则运行报异常ArithmeticException

- - 如果两个小数相模，模数为0的话，结果是NaN（Not a Number非数字）

- 正号：+

- 负号：-

- 自增：++

- 自减：-- 

- - 如果自增或自减表达式，独立成一个语句，那么自增或自减符号++和--在前在后没有影响。 

- - - 例如： a++; 等价于 ++a;

- - - 例如：a--; 等价于 --a;

- - 如果自增或自减表达式是其他操作的一部分，那么增或自减符号++和--在前在后是不同的。 

- - - 在前，需要先自增或自减，然后取自增变量的值进行运算

- - - 在后，需要先取自增变量的值，然后对自增变量进行自增或自减操作，本次运算使用提前取出来的值计算，自增自减后的值对接下来的其他运算有影响，本次运算没影响。

- - - 例如：System.out.prontln(a++); 输出的是a自增之前的值，a自增之后的值对本次输出没影响，但会影响接下来的其他操作。

- - - 例如：System.out.prontln(++a);输出的是a自增之后的值，a自增的值在本次输出就体现出来了。



### 2.10.3 比较运算符



```java
大于：>
小于：<
大于等于：>=
小于等于：<=
等于：==   
    特别容易和=混淆
不等于：!=

特点：
    所有的比较运算符都是二元运算符，计算的结果都是true/false，通常用来做条件
```



### 2.10.4 逻辑运算符



```java
逻辑与：&
短路与：&&（开发中一般用它）
    无论是&还是&&，都是两边为true的时候，最终结果才为true。
    其中&&的左边为false时，右边会不看。
逻辑或：|
短路或：||（开发中一般用它）
    无论是|还是||，都是两边只要有一边是true，结果就为true。
    其中||的左边为true时，右边会不看。
逻辑异或：^
    只有两边相反，一边为true，另一边为false,结果才为true。
逻辑非：!
    !true为false
    !false为true
    
特点：
    逻辑运算符的操作数一定是boolean值，结果也是boolean值，通常用来做条件
```



### 2.10.5 条件运算符



```java
条件表达式 ? 结果表达式1 : 结果表达式2

规则：
    当条件表达式为true时，整个表达式取 结果表达式1的值，否则就取结果表达式2的值。
    
注意：
    三元运算符的表达式不能直接加；构成语句，需要把结果赋值给变量，或者直接输出结果等，才可以。
    即 
    条件表达式 ? 结果表达式1 : 结果表达式2;  //错误的
    变量 = 条件表达式 ? 结果表达式1 : 结果表达式2;
    System.out.println(条件表达式 ? 结果表达式1 : 结果表达式2);
```



### 2.10.6 位运算符（难）



原则：



- 计算时是基于二进制补码的二进制位计算的。 

- - 正数：原码、反码、补码是一致的

- - 负数：原码、反码、补码是不同的

- 计算后要从二进制补码，换算回二进制原码，再看十进制结果。 

- - 如果计算结果的二进制最高位是0，那么是正数，原码、反码、补码是一致的

- - 如果计算结果的二进制最高位是1，那么是负数，原码、反码、补码是不同的



```java
左移：<<
    快速口诀：左移几位，就是乘以2的几次方（如果移位后最高位0变为1，1变0的除外）。
右移：>>
    快速口诀：右移几位，就是除以2的几次方，向下取整。
    无论是左移还是右移，当移动位数超过当前类型的总宽度时，会先减去总宽度。
    int a = 5;
	a << 40 等价于 a << (40-32)
无符号右移：>>>
    正数和普通右移一样。
    负数不同，最高位补0，会使得负数变为正数。
        
    只有负数的普通右移，会在最左边补1，其他移位都是补0。
    左移可能正数变负数，或者负数变正数。无符号右移可能负数变正数。普通右移和正数的无符号右移不会改变正负号。
        
按位与：&
    对应二进制位都是1时，这个二进制位才为1。
按位或：|
    对应二进制位只要有1，这个二进制位就为1。    
按位异或：^
    对应二进制位只有一个是1，一个是0， 这个二进制位才为1。
按位取反：~
    原来0的变为1,1的变为0，包括符号位（区别于原码到反码，原码到反码时符号位不变）。
```



### 2.10.7 赋值运算符（下）



```java
扩展的赋值运算符：
    +=,-=,*=,/=,%=,<<=,>>=,>>>=,&=,|=,^=
```



- 左边的变量要与右边的值（常量值、另一个变量的值、表达式的计算结果值）一起做扩展的运算，最后把结果赋值给左边的变量。

- 赋值运算符优先级一定是最低的，一定是最后算赋值操作。

- 赋值运算符的左边一定是变量，不能是表达式、常量等。

- 如果是扩展的赋值运算符，当=右边的值（常量值、变量值、表达式的值）的类型大于左边变量的类型时，会自动发生强制类型转换，结果可能会发生损失精度或溢出截断的问题。

- 赋值运算符的右边是一个整体，如果右边表达式的运算符低于=左边扩展的运算符，需要给右边的表达式加()



```java
byte b1 = 10;
byte b2 = 120
b1 += b2;//等价于 b1 = (byte)(b1 + b2);
```



```java
int i = 15;
int j = 6;
i *= i - j;//等价于 i = i * (i-j);
```



```java
int x = 2;
int y = 4;
x += ++x * y--;//等价于 x = x + ++x * y--;  或 x = x + (++x * y--);
```



### 2.10.8 运算符的分类



一共38个运算符。



运算符的分类：



- 按照功能分：算术运算符、赋值运算符、比较运算符、逻辑运算、条件运算符、Lambda运算符

| 分类                | 运算符                                               |
| ------------------- | ---------------------------------------------------- |
| 算术运算符（7个）   | +、-、*、/、%、++、--                                |
| 赋值运算符（12个）  | =、+=、-=、*=、/=、%=、>>=、<<=、>>>=、&=、\|=、^=等 |
| 关系运算符（6个）   | >、>=、<、<=、==、!=                                 |
| 逻辑运算符（6个）   | &、\|、^、!、&&、\|\|                                |
| 条件运算符（2个）   | 条件表达式?结果1:结果2                               |
| 位运算符（7个）     | &、\|、^、~、<<、>>、>>>                             |
| Lambda运算符（1个） | ->（后面学）                                         |



- 按照操作数个数分：一元运算符（单目运算符）、二元运算符（双目运算符）、三元运算符 （三目运算符）

| 分类                      | 运算符                                   |
| ------------------------- | ---------------------------------------- |
| 一元运算符（单目运算符）  | 正号（+）、负号（-）、++、--、!、~       |
| 二元运算符（双目运算符）  | 除了一元和三元运算符剩下的都是二元运算符 |
| 三元运算符 （三目运算符） | 条件表达式 ? 结果1: 结果2                |



### 2.10.9 优先级



（1）单目：++，--，~，!，正号、负号



（2）算术运算符：先乘除模，再加减



（3）移位：<<，>>，>>>



（4）比较运算符：先大小比较>,<,>=,<=,再等或不等比较==,!=



（5）逻辑运算符：依次是&,^,|,&&,||



（6）条件运算符：? :



（7）赋值运算符：所有赋值运算符