# 流程分析
## 前提条件
1. 医院上传相关数据到平台,医院/科室/排班信息
2. 用户登录后才能挂号
3. 用户认证,且认证通过
4. 有就诊人数据

## 流程
1. 用户选择医院,选择医院内的科室后,显示这个科室内可以预约的日期和某个日期的号源数据(医生排班数量和是否有号)
2. 用户点击某个日期和医生的剩余号数后,确认挂号信息和选择就诊人
3. 用户点击确认挂号后,生成挂号订单
4. 订单支付
5. 取消预约功能

# 生成挂号订单
## 流程
1. 调用医院系统的接口进行挂号,医院接口返回成功,生成订单
2. 挂号成功后,根据医院接口返回的结果进行号源剩余数量更新
3. 给挂号成功的就诊人发送成功的信息

# 订单支付
[[微信支付]]
1. 用户在平台支付成功后,调用医院接口通知医院


# 取消订单
1. 调用医院接口,查询该号源是否可以取消
## 已支付
## 未支付


# skills
- [[MongoDB]]
- [[RabbitMQ]]
- HttpClient
- [[微信支付]]
